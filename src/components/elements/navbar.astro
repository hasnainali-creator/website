---
import { categoriesHandler } from "@/lib/handlers/categories";
import NavbarItem from "../bases/navbar-item.astro";

const catProvider = await categoriesHandler.getProvider();
const categories = catProvider.getNestedCategories();
---

<nav class="navbar-center hidden lg:flex container">
  <ul class="menu menu-sm menu-horizontal px-1 mx-auto gap-4">
    <NavbarItem item={{ href: "/", text: "Home" }} />
    <NavbarItem item={{ href: "/articles", text: "Articles" }} />
    {
      categories.map((category) => (
        <NavbarItem 
          item={{ href: `/categories/${category.id}`, text: category.data.title }} 
          children={category.children}
        />
      ))
    }
  </ul>
</nav>
